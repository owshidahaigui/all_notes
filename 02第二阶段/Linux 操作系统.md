# Linux 操作系统

## Linux操作系统及其组成

### 1.操作系统的作用

操作系统（OS）是管理计算机硬件与软件资源的计算机程序，同时也是计算机系统的内核与基石。操作系统需要处理如管理与配置内存、决定系统资源供需的优先次序、控制输入设备与输出设备、操作网络与管理文件系统等基本事务。操作系统也提供一个让用户与系统交互的操作界面。

### 2.Linux操作系统组成

一个典型的Linux操作系统组成为：Linux内核，文件系统，命令行shell，图形界面和桌面环境，并包各种工具和应用软件。

· Linux内核: Linux操作系统的核心代码

· 文件系统：通常指称管理磁盘数据的系统，可将数据以目录或文件的型式存储。每个文件系统都有自己的特殊格式与功能

· shell命令： 接收用户命令，然后调用相应的应用程序，并根据用户输入的指令来反馈给用户指定的信息。

![img](file:////tmp/wps-tarena/ksohtml/wpsMN57Xw.png) 

## shell命令

### 文件操作命令

· linux下的目录结构

![img](file:////tmp/wps-tarena/ksohtml/wpsXUeAL3.png) 

| **作用**     | **命令**             |
| ------------ | -------------------- |
| 切换工作目录 | cd                   |
| 查看文件     | ls ， ls -l ， ls -a |
| 复制文件     | cp -r                |
| 移动文件     | mv                   |
| 删除文件     | rm -rf ， rmdir      |
| 创建文件夹   | mkdir -p             |
| 创建文件     | touch                |
| 查看文件内容 | cat                  |

### 软件管理

| **作用**   | **命令**               |
| ---------- | ---------------------- |
| 升级软件包 | apt-get update         |
| 安装软件   | apt-get install        |
| 卸载软件   | apt-get remove --purge |

## ssh服务

ssh是一种安全协议，主要用于给远程登录会话数据进行加密，保证数据传输的安全。在数据传输方面有很多应用。

### Linux下的SSH服务

在Linux下SSH服务端是一个在后台运行的程序，响应来自客户端的连接请求。 SSH服务端的讲程名为sshd，负责实时监听远程SSH客户端的远程连接请求，并进行处理。

· 安装 ： sudo apt-get install openssh-server

· 查看ssh服务状态 ： ps -e|grep ssh

· 启动和关闭 ： sudo service ssh start/restart/stop
/etc/init.d/ssh start/restart/stop

### ssh命令

#### ssh登录远程主机

ssh [-p port] username@ip
退出： exit 或 ctrl-D

#### **scp命令**

scp命令可以用来通过安全、加密的连接在机器间传输文件。

把本地文件传输给远程系统：
scp localfile username@tohostname:/newfilename

把远程文件传输给本地系统：
scp username@tohostname:/remotefile /localfile

### ssh秘钥

每次登录远程主机都需要输入密码是很不便捷的，如果要加速这一步骤，可以利用密钥对进行连接，主要思路是：生成一对公钥私钥，私钥在local主机上，公钥在远程服务器上，每次建立ssh连接自动检查密钥对是否匹配。

#### **生产ssh秘钥步骤**

\1. 生产秘钥对 ： ssh-keygen 执行以后会在主目录下生成一个.ssh文件夹,其中包含私钥文件id_rsa和公钥文件id_rsa.pub。

\2. 在服务器主机上将id_rsa.pub文件的内容附加~/.ssh/authorized_keys文件中，并修改器权限。

## vim使用

Vim是一个类似于Vi的著名的功能强大、高度可定制的文本编辑器，在Vi的基础上改进和增加了很多特性.

### **Vim简单实用**

#### 操作命令（normal模式）

- i 在当前字符的左边插入
- gi 进入最后一次编辑的地方
- I 在行首（最左边）插入
- a在当前字符的右边插入
- A在当前行的最后面插入
- o 在当前行下面插入一个新行
- O当前行的上面插入一个新行 

#### **快速移动大法**

 

- h 向前移动一个字符
- j 向上移动一行
- k 向下移动一行
- l 向后移动一个字符		
- w 移动到下一个非普通字符开头 比如空格逗号，括号之类
- W 移动到下一个空格后的第一个词的开头 
- e	移动到下一个非普通字符的结尾
- E  移动到下一个空格后首单词的结尾
- b  同小w这个是移动到上一个单词的开头  backword
- B  同大写W移动到上一个空格单词的开头 
- 小写是移动非空格符分隔的单词  大写是移动空格符分隔的单词	

#### **行内搜索移动:**

- 使用f字母 可以正向移动到可以匹配到的第一个字母的位置上
- 使用t 字母 可以正向移动到可以匹配到的第一个字母的前一个位置上
- ； 分号表示 移动到下一个符合匹配的字符位置
- ， 逗号表示 移动到上一个符合匹配的字符位置
- 大写F 表示反过来搜索前面同行的字符

 

#### 水平首尾移动：

- 0 零 移动到行首第一个字符，
- ^  移动到第一个非空白字符
- $  移动到结尾 
- g_ 移动到行尾非空白字符
- 主要使用 0 和 $

​		

#### 垂直移动：

- 使用（）在句子间移动   可以看看：help + ( 帮助文档

- 使用 {} 在段落间移动 

- Easy_motion 插件  好用

  

#### 页面内移动：

-  gg  移动到文件的开头
- G   移动到文件的结尾  
- Ctrl + o 快速返回上一个位置
- H/M/L 跳转到屏幕的开头(Head),中间(Middle) 和结尾(Lower)
- Ctrl+u   向上翻页（upword）
- Ctrl+f    想下翻页（forward）
- zz 把屏幕设置为中间   键冲突 容易退出

​		

#### **编辑作用：**

- v  进入visul模式 进行大量模块选择
- 使用V 选择当前行
- 使用ctrl+v进行方块选则  不能在pychram中使用热键冲突  
- 可以配合替换功能使用
- yy 复制当前一行
- p 粘贴内容到游标之后

 

#### **底行命令**

- :w 保存
- :q 退出
- :q! 强行退出
- ：vs （vertical split） 左右分屏
- ：sp(split) 上下分屏
- ：%  s / 被替换词 / 替换后词 /g    s 表示替换功能 ，g  表示全区作用域   
- ：set number 设置行号

 

#### **插入模式快捷键：**

- Ctrl + h 删除上一个字符

- Ctrl + w 删除上一个单词

- Ctrl + u 删除当前行

- Ctrl + a 去到文件开头？？

- Ctrl + e 移动到结尾？？

- Ctrl + [  进入normal模式

  

 

### **增删改查 可以配合v模式使用 u 返回上一步**

#### **快速删除**

- 在normal模式下使用x 快速删除一个字符
- 使用d(delete) 配合文本对象快速删除一个单词
- daw(d around word)包括空格也删除
- dw和daw 一样 快速删除一个单词 
- diw 也是快速删除一个单词不删除边上空格
- dd 剪切当前一行 整行消除
- dt 字符 表示删到这个字符为止  delete to 不包括结尾
- d0  当前删除到开头  d$ 当前删除到结尾 
- d 和 x 都可以搭配数字执行多次  数字在前 表示后面的指令执行的次数

 

#### **快速修改**

- Normal 模式下常用三个，r(replace),c(change),s(substitute)
- 使用r可以替换一个字符。
- 使用R 进入替换模式，可以不断替换后面的字符，退格可以把退换的返回来
- s 删除当前字符并进入插入模式
- S删除整行并进入插入模式  保留空行
- 使用c配合文本对象，我们可以快速修改
- caw  cw 等同 daw 删除当前单词但是会进入插入模式
- C 删除到行结尾并进入插入模式
- 同样也可以使用ct删除到某个字符不包括结尾 并进入插入模式
- 也可以在前面加数字 表示执行次数

 

#### **快速查询**

- 使用 / 或者? 进行前向或者反向搜索，不需要：号 直接在normal模式下输入

- 使用 n/ N跳转到下一个或者上一个匹配

- 使用* 或者# 进行当前单词的前向或者后向匹配

- 使用 ：syntax on  : set hls   : set insearch 使搜索结果高亮显示 

  

 

 